<html>
	<head>
		<title>RobotCode</title>

		<style type="text/css">
		.cell {
			width: 60px;
			height: 60px;
			border: 1px solid #000;
			box-sizing: border-box;	
		}

		.robot {
			position: absolute;
			box-sizing: border-box;	
			background-image: url('images/robot.png');
			width: 60px;
			height: 60px;
		}

		.action {
			box-sizing: border-box;	
			width: 120px;
			min-height: 60px;
		}

		.container {
			box-sizing: border-box;	
			width: 120px;
			min-height: 60px;
			background-color: #CCC;
			border: 1px solid black;
		}

		.script .action {
			display: block;
		}

		.executing {
			border: 4px solid #0F0;
		}

		.up {
			background-image: url('images/up.png');
		}

		.down {
			background-image: url('images/down.png');
		}

		.left {
			background-image: url('images/left.png');
		}

		.right {
			background-image: url('images/right.png');
		}

		.colorRed {
			background-color: #FF0000;
		}

		.colorGreen {
			background-color: #00FF00;
		}

		.repeat3Times {
			background-color: #0000FF;
		}

		.placeHolder {
			opacity: 0.2;
		}

		.grid {
			position: relative;
		}

		.script {
			border: 1px solid #000;
		}

		.actions {
			border: 1px solid #000;
		}

		.controlBoard {
			border: 1px solid #000;
		}

		.control {
			box-sizing: border-box;	
			width: 60px;
			height: 60px;
		}

		.play {
			background-image: url('images/play.png');
		}

		.pause {
			background-image: url('images/pause.png');
		}

		.stop {
			background-image: url('images/stop.png');
		}

		.clear {
			background-image: url('images/clear.png');
		}

		.availableActions {
			border: 1px solid #000;
		}

		td {
			margin: 0;
			padding: 0;
		}

		table {
			border-spacing: 0px;
		}

		body {
			background-color: #CCC;
		}


		.gridContainer {
			width: 60%;
			position: absolute;
			left: 0;
		}

		.scriptContainer {
			width: 40%;
			position: absolute;
			right: 0;
		}

		</style>

		<script type="text/javascript" src="lib/Event.js"></script>
		<script type="text/javascript" src="lib/EventDispatcher.js"></script>
		<script type="text/javascript" src="lib/Ticker.js"></script>
		<script type="text/javascript" src="lib/Ease.js"></script>
		<script type="text/javascript" src="lib/Tween.js"></script>
		<script type="text/javascript" src="lib/Sortable.js"></script>
		<script type="text/javascript" src="lib/vue.js"></script>
	</head>
	<body>
		<div class="gridContainer">
			<table class="grid">
				<tr v-repeat="j: range(0, height)">
					<td v-repeat="i: range(0, width)">
						<div 
							class="cell" 
							v-style="background-color: cells[i][j].color">
						</div>
					</td>
				</tr>
			</table>
			<div 
				class="robot"
				v-style="
					left: x * 60 + 'px',
					top: y * 60 + 'px',
					$transform: 'rotate(' + angle + 'deg)'
				">
			</div>
		</div>
		<div class="scriptContainer">
			<div class="controlBoard">
				<button 
					class="control play" 
					v-on="click: play" 
					v-show="!playing">
				</button>
				<button 
					class="control pause" 
					v-on="click: pause" 
					v-show="playing">
				</button>
				<button 
					class="control stop" 
					v-on="click: stop">
				</button>
				<button
					class="control clear" 
					v-on="click: clear">
				</button>
			</div>
			<div class="availableActions">
				<button v-repeat="action: actions" 
					class="action"
					v-class="action.name"
					v-attr="title: action.description"
					v-on="click: add(action)">
				</button>
			</div>
			<div 
				class="script" 
				v-sortable>
				<div 
					v-repeat="actionInstance: actions"
					class="instance" 
					v-class="executing: actionInstance.executing"
					draggable="true">
					<div 
						class="action"
						v-attr="title: actionInstance.action.description"
						v-class="actionInstance.action.name">
					</div>
					<div v-if="actionInstance.action.container" class="container">
					</div>
				</div>
			</div>
		</div>	
		
		<script type="text/javascript" src="index.js"></script>
	</body>
</html>